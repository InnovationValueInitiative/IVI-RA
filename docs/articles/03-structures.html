<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Competing model structures â€¢ iviRA</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Competing model structures">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">iviRA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorial
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/00-intro.html">0. Introduction</a>
    </li>
    <li>
      <a href="../articles/01-population.html">1. Generate population</a>
    </li>
    <li>
      <a href="../articles/02-tx-seqs.html">2. Select treatment sequences</a>
    </li>
    <li>
      <a href="../articles/03-structures.html">3. Select model structures</a>
    </li>
    <li>
      <a href="../articles/04-input-data.html">4. Generate input data</a>
    </li>
    <li>
      <a href="../articles/05-parameters.html">5. Sample parameters</a>
    </li>
    <li>
      <a href="../articles/06-ips.html">6. Run simulation</a>
    </li>
    <li>
      <a href="../articles/07-analysis.html">7. Value assessment</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">API</a>
</li>
<li>
  <a href="../articles/how-to-contribute.html">Collaborate</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    About
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="http://www.thevalueinitiative.org/open-source-value-project/">OSVP</a>
    </li>
    <li>
      <a href="../model-description/model-description.pdf">Model description</a>
    </li>
    <li>
      <a href="../news/index.html">Release history</a>
    </li>
    <li>
      <a href="../articles/reproducibility.html">Reproducibility</a>
    </li>
    <li>
      <a href="../articles/hesim.html">hesim</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Web apps
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://ivi-ra-expert.clarityviz.com/">IVI-RA Model Interface</a>
    </li>
    <li>
      <a href="https://ivi-ra.clarityviz.com/">IVI-RA Value Tool</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/InnovationValueInitiative/IVI-RA">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Competing model structures</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/InnovationValueInitiative/IVI-RA/blob/master/vignettes/03-structures.Rmd"><code>vignettes/03-structures.Rmd</code></a></small>
      <div class="hidden name"><code>03-structures.Rmd</code></div>

    </div>

    
    
<div id="available-model-structures" class="section level2">
<h2 class="hasAnchor">
<a href="#available-model-structures" class="anchor"></a>Available model structures</h2>
<p>The model allows for 384 possible model structures related to the effect of treatment on HAQ during the 1st 6 months, causes of treatment switching during the 1st 6 months, the model used to simulate the long-term progression of HAQ, the probability distribution used to measure time to treatment discontinuation, and the algorithm used to simulate utility.</p>
<p>There are 3 possible pathways linking treatment to HAQ.</p>
<ul>
<li>
<strong>H1</strong>: Treatment -&gt; ACR -&gt; HAQ</li>
<li>
<strong>H2</strong>: Treatment -&gt; ACR -&gt; EULAR -&gt; HAQ</li>
<li>
<strong>H3</strong>: Treatment -&gt; HAQ</li>
</ul>
<p>There are 6 possible pathways related to treatment switching:</p>
<ul>
<li>
<strong>S1</strong>: Treatment -&gt; ACR -&gt; Switch</li>
<li>
<strong>S2</strong>: Treatment -&gt; ACR -&gt; <span class="math inline">\(\Delta\)</span>DAS28 -&gt; DAS28 -&gt; Switch</li>
<li>
<strong>S3</strong>: Treatment -&gt; ACR -&gt; <span class="math inline">\(\Delta\)</span>SDAI -&gt; SDAI -&gt; Switch</li>
<li>
<strong>S4</strong>: Treatment -&gt; ACR -&gt; <span class="math inline">\(\Delta\)</span>CDAI -&gt; SDAI -&gt; Switch</li>
<li>
<strong>S5</strong>: Treatment -&gt; <span class="math inline">\(\Delta\)</span>DAS28 -&gt; DAS28 -&gt; Switch</li>
<li>
<strong>S6</strong>: Treatment -&gt; ACR -&gt; EULAR -&gt; Switch</li>
</ul>
<p>Not all model structures <strong>S1-S6</strong> can be used with each of <strong>H1-H3</strong>. If <strong>H1</strong> is used, then <strong>S1-S5</strong> are available, but <strong>S6</strong> is not because EULAR response is not simulated. In <strong>H2</strong>, <strong>S1-S6</strong> are all available while in <strong>H3</strong> only <strong>S5</strong> can be used since ACR response is not simulated. The 12 possible model structures and the number of each structure are outlined in the table below.</p>
<table class="table">
<thead><tr class="header">
<th></th>
<th align="left">S1</th>
<th align="left">S2</th>
<th align="left">S3</th>
<th align="left">S4</th>
<th align="left">S5</th>
<th align="left">S6</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>H1</td>
<td align="left">1</td>
<td align="left">2</td>
<td align="left">3</td>
<td align="left">4</td>
<td align="left">5</td>
<td align="left">-</td>
</tr>
<tr class="even">
<td>H2</td>
<td align="left">6</td>
<td align="left">7</td>
<td align="left">8</td>
<td align="left">9</td>
<td align="left">10</td>
<td align="left">11</td>
</tr>
<tr class="odd">
<td>H3</td>
<td align="left">-</td>
<td align="left">-</td>
<td align="left">-</td>
<td align="left">-</td>
<td align="left">12</td>
<td align="left">-</td>
</tr>
</tbody>
</table>
<p>HAQ progression for patients in the absence of tDMARDs can be modeled in one of two ways. First, progression can be modeled at a constant annual rate or second, progression can be modeled using a latent class growth model (LCGM). The advantage of the LCGM is that it allows for different classes of patients with different HAQ trajectories and that within each trajectory, the rate of HAQ progression decreases at a non-linear rate over time.</p>
<p>There also multiple ways to model time to treatment discontinuation. Treatment discontinuation can be due to all causes or due to serious infections alone. If discontinuation is due to serious infections alone, then treatment duration is modeled using an exponential distribution based on serious infection rates from clinical trials; converseley, if discontinuation is due to all causes, the treatment duration is modeled based on observational data with any of 7 possible distributions: exponential, Weibull, Gompertz, gamma, log-logistic, lognormal, and generalized gamma. All told, there are thus 8 possible ways to model time to treatment discontinuation.</p>
<p>Finally, there are two ways to estimate utility. Our preferred method is mixture model estimated by <a href="https://academic.oup.com/rheumatology/article/52/5/944/1816557">Hernandez Alava et al. (2013)</a> that has been shown to significantly outperform existing models. The mixture model simulates utility as a function of age, pain, and HAQ for four separate classes that are, in turn, dependent on age, gender, pain, HAQ, and an unobserved random intercept term. The second algorithm is based on the logistic regression equation relating HAQ and other patient characteristics to utility by <a href="https://www.sheffield.ac.uk/polopoly_fs/1.43356!/file/AHRQ-final-report.pdf">Wailoo et al. (2006)</a>.</p>
</div>
<div id="select-model-structures" class="section level2">
<h2 class="hasAnchor">
<a href="#select-model-structures" class="anchor"></a>Select model structures</h2>
<p>Model structures are chosen with R using the <code>select_model_structures</code> function. The function returns an object of class <code>model_structures</code>, which is used as an input to functions needed to run the simulation. Here, we choose two model structures. In the first model structure, we model the effect of treatment on HAQ using <strong>H2</strong>, switching using <strong>S6</strong>, HAQ progression in the absence of tDMARDs with the LCGM, time to treatment discontinuation due to all causes with the generalized gamma distribution, and utility using the mixture model. In the second model structure, we use the pathway <strong>H3</strong> so that treatment has a direct effect on HAQ, treatment switching is determined using the pathway <strong>S1</strong>, a linear model is used for HAQ progression in the absence of tDMARDs, an exponential distributon is used to model treatment discontinuation due to serious infections, and HAQ is mapped to utility with the Wailoo algorithm.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mod.structs &lt;-<span class="st"> </span><span class="kw"><a href="../reference/select_model_structures.html">select_model_structures</a></span>(<span class="dt">tx_ihaq =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"acr-eular-haq"</span>, <span class="st">"acr-haq"</span>),
                                     <span class="dt">tx_iswitch =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"acr-eular-switch"</span>, <span class="st">"acr-switch"</span>),
                                     <span class="dt">cdmards_haq_model =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"lcgm"</span>, <span class="st">"linear"</span>),
                                     <span class="dt">ttd_cause =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"all"</span>, <span class="st">"si"</span>),
                                     <span class="dt">ttd_dist =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"gengamma"</span>, <span class="st">"exponential"</span>),
                                     <span class="dt">utility_model =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"mixture"</span>, <span class="st">"wailoo"</span>))
<span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(mod.structs)</code></pre></div>
<pre><code>##      tx_ihaq         tx_iswitch         cdmards_haq_model ttd_cause
## [1,] "acr-eular-haq" "acr-eular-switch" "lcgm"            "all"    
## [2,] "acr-haq"       "acr-switch"       "linear"          "si"     
##      ttd_dist      utility_model
## [1,] "gengamma"    "mixture"    
## [2,] "exponential" "wailoo"     
## attr(,"class")
## [1] "model_structures"</code></pre>
<div>
<ul class="pager">
<li class="previous">
<a href="02-tx-seqs.html">Previous</a>
</li>
<li class="next">
<a href="04-input-data.html">Next</a>
</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#available-model-structures">Available model structures</a></li>
      <li><a href="#select-model-structures">Select model structures</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Jeroen P. Jansen, Devin Incerti.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
